---
title: 死磕设计模式-工厂模式
top: false
cover: false
date: 2019-12-11 23:43:14
password:
summary:
tags:
 - 设计模式
categories: 后端
---

根据抽象程度不同，PHP工厂模式分为：*简单工厂模式、工厂方法模式和抽象工厂模式*
## 简单工厂模式

### 定义：
　　定义一个工厂类，根据传入的参数不同返回不同的实例，被创建的实例具有共同的父类或接口。工厂模式中，创建的对象不能太多，人们并不关心对象的创建；其次封装了对象的创建过程。

### 适用场景：
　　（1）需要创建的对象较少。
　　（2）客户端不关心对象的创建过程。

### 示例：
创建一个可以绘制不同形状的绘图工具，可以绘制圆形，正方形，三角形，每个图形都会有一个draw()方法用于绘图
interface class Shape{
    protect function draw();
}
//圆形
class CircleShape implements Shape{
    public function draw(){
        echo '我是圆形draw方法';
    }
}
//正方形
class SquareShape implements Shape{
    public function draw(){
        echo '我是正方形draw方法';
    }
}
//工厂模式的具体实现
 class FactoryShape {
          public $tag = "FactoryShape";
          public static Shape getShape(String type) {
              Shape shape = null;
              if (type.equalsIgnoreCase("circle")) {
                  shape = new CircleShape();
              } else if (type.equalsIgnoreCase("rect")) {
                  shape = new RectShape();
              } else if (type.equalsIgnoreCase("triangle")) {
                  shape = new TriangleShape();
              }
              return shape;
          }
   }